<!doctype html>
<html lang=en xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Titles - PANDAS</title>
    <link rel="stylesheet" href="../../target/classes/static/pandas-admin.css" th:href="@{/pandas-admin.css}">
</head>
<body>
<header th:replace="_layout.html :: header"></header>
<main>
    <nav th:replace="_layout.html :: sidebar"></nav>
    <article>
        <h1>Collections</h1>
        <form>
            <input name="q" th:value="${q}" placeholder="Keywords">
            <input type=submit value=Search>
            <details>
                <summary>Advanced</summary>
                <label for=subjectFilter>Subject:</label>
                <select id=subjectFilter name=subject multiple>
                    <option th:each="subject: ${allSubjects}" th:value="${subject.id}"
                            th:selected="${selectedSubjectIds.contains(subject.id)}"
                            th:text="${subject.name}">Arts
                    </option>
                    <option th:remove="all">Business & Economy</option>
                </select>
            </details>
        </form>

        <section class="search-results">
            <div class="result-list">
                <header>
                    Found <strong
                        th:text="${#numbers.formatInteger(results.getTotalElements(), 0, 'COMMA')}">16</strong>
                    matching collections
                </header>

                <ol start="${results.pageable.offset + 1}">
                    <li th:each="collection: ${results}">
                        <header>
                            <strong><a th:href="@{/collections/{id}(id=${collection.id})}"
                                       th:text="${collection.fullName}" href="TitleView.html">Developing
                                Canberra</a></strong>
                            <a class="title-count" th:href="@{/titles(collection=${collection.id})}"
                               th:text="${collection.titleCount}" href="TitleSearch.html">16</a>
                        </header>
                        <div>
                            <ul class="subject-list">
                                <li th:each="subject: ${collection.subjects}">
                                    <a th:href="@{/subjects/{id}(id=${subject.id})}" th:text="${subject.name}"
                                       href="SubjectView.html">Sport</a>
                                </li>
                            </ul>
                        </div>
                    </li>
                </ol>
                <nav>
                    <ul class="pagination justify-content-center">
                        <li class="page-item" th:classappend="${!results.hasPrevious()} ? disabled">
                            <a class="page-link" th:href="@{${results.previousUrl()}}" tabindex="-1">Previous</a>
                        </li>
                        <li class="page-item" th:classappend="${!results.hasNext()} ? disabled">
                            <a class="page-link" th:href="@{${results.nextUrl()}}">Next</a>
                        </li>
                    </ul>
                </nav>
            </div>
            <!-- <ul class="facets"></ul> -->
        </section>
    </article>
</main>